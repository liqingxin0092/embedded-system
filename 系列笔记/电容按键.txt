以下指的是PCB板子集成的电容按键(看的正点原子).

1.电容触摸按键优势: 无机械装置,使用寿命长,非接触式感应.

电容储能就是充放电.

2.原理: 手指摁下后和连单片机的金属感应片形成一个电容.
手相当于极板导线接地.
原来也有一个电容,摁下后多了一个电容,电容充电时间产生差异.

3.重点是检测充电时间,单片机用多久从低电平到高电平(1.8V),用输入捕获.

4.电容越大,充电到达某个临界值的时间越长.

5.先测无触摸时充电时间Tcs作为比较基准(一上电自动检测一次基准),定时循环测量充电时间T与Tcs进行比较,超过一定阈值就认为有手指触摸.

6.注意:电容的初始状态要为0,一开始要放电.(单片机给低电平然后输入).